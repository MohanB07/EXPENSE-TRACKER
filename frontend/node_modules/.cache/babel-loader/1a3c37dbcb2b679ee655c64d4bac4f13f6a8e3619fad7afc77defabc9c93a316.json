{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mohan\\\\OneDrive\\\\Desktop\\\\MoneyFlowManager - Copy\\\\frontend\\\\src\\\\context\\\\globalContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// globalContext.js\n\nimport React, { useContext, useState } from \"react\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BASE_URL = \"http://localhost:5000/api/v1/\";\nconst GlobalContext = /*#__PURE__*/React.createContext();\nexport const GlobalProvider = ({\n  children\n}) => {\n  _s();\n  const [incomes, setIncomes] = useState([]);\n  const [expenses, setExpenses] = useState([]);\n  const [incomeData, setIncomeData] = useState(null);\n  const [expenseData, setExpenseData] = useState(null);\n  const [error, setError] = useState(null);\n  const addIncome = async income => {\n    try {\n      await axios.post(`${BASE_URL}add-income`, income);\n      getIncomes();\n    } catch (err) {\n      setError(err.response.data.message);\n    }\n  };\n  const getIncomes = async () => {\n    const response = await axios.get(`${BASE_URL}get-incomes`);\n    setIncomes(response.data);\n  };\n  const deleteIncome = async id => {\n    await axios.delete(`${BASE_URL}delete-income/${id}`);\n    getIncomes();\n  };\n  const totalIncome = () => {\n    return incomes.reduce((acc, income) => acc + income.amount, 0);\n  };\n  const addExpense = async expense => {\n    try {\n      await axios.post(`${BASE_URL}add-expense`, expense);\n      getExpenses();\n    } catch (err) {\n      setError(err.response.data.message);\n    }\n  };\n  const getExpenses = async () => {\n    const response = await axios.get(`${BASE_URL}get-expenses`);\n    setExpenses(response.data);\n  };\n  const deleteExpense = async id => {\n    await axios.delete(`${BASE_URL}delete-expense/${id}`);\n    getExpenses();\n  };\n  const totalExpenses = () => {\n    return expenses.reduce((acc, expense) => acc + expense.amount, 0);\n  };\n  const totalBalance = () => {\n    return totalIncome() - totalExpenses();\n  };\n  const transactionHistory = () => {\n    const history = [...incomes, ...expenses];\n    history.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n    return history.slice(0, 3);\n  };\n  const getDropdownOptions = async () => {\n    try {\n      const response = await axios.get(`${BASE_URL}dropdown-options`);\n      // Set options in your state or use them directly as needed\n    } catch (error) {\n      console.error(error);\n      setError('Error fetching dropdown options');\n    }\n  };\n  const generateReport = async filterOptions => {\n    try {\n      const {\n        startDate,\n        endDate,\n        category,\n        filterType\n      } = filterOptions;\n\n      // Fetch income data\n      const incomeResponse = await axios.get(`${BASE_URL}generate-report`, {\n        params: {\n          startDate,\n          endDate,\n          category,\n          filterType: 'income'\n        }\n      });\n\n      // Fetch expense data\n      const expenseResponse = await axios.get(`${BASE_URL}generate-report`, {\n        params: {\n          startDate,\n          endDate,\n          category,\n          filterType: 'expense'\n        }\n      });\n\n      // Log responses for debugging\n      console.log('Income Response:', incomeResponse.data);\n      console.log('Expense Response:', expenseResponse.data);\n\n      // Check the structure of the responses\n      if (incomeResponse.data.hasOwnProperty('incomeData') && expenseResponse.data.hasOwnProperty('expenseData')) {\n        console.log('Income Data:', incomeResponse.data.incomeData);\n        console.log('Expense Data:', expenseResponse.data.expenseData);\n\n        // Update state with the received data\n        setIncomeData(incomeResponse.data.incomeData);\n        setExpenseData(expenseResponse.data.expenseData);\n      } else {\n        console.error('IncomeData or ExpenseData not present in the response.');\n        setError('Error generating report');\n      }\n    } catch (error) {\n      console.error(error);\n      setError('Error generating report');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(GlobalContext.Provider, {\n    value: {\n      addIncome,\n      getIncomes,\n      incomes,\n      deleteIncome,\n      expenses,\n      totalIncome,\n      addExpense,\n      getExpenses,\n      deleteExpense,\n      totalExpenses,\n      totalBalance,\n      transactionHistory,\n      getDropdownOptions,\n      generateReport,\n      incomeData,\n      expenseData,\n      error,\n      setError\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n};\n_s(GlobalProvider, \"5+b0+C4NfAnk9/yb8ETZAGt7Ag4=\");\n_c = GlobalProvider;\nexport const useGlobalContext = () => {\n  _s2();\n  return useContext(GlobalContext);\n};\n_s2(useGlobalContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"GlobalProvider\");","map":{"version":3,"names":["React","useContext","useState","axios","jsxDEV","_jsxDEV","BASE_URL","GlobalContext","createContext","GlobalProvider","children","_s","incomes","setIncomes","expenses","setExpenses","incomeData","setIncomeData","expenseData","setExpenseData","error","setError","addIncome","income","post","getIncomes","err","response","data","message","get","deleteIncome","id","delete","totalIncome","reduce","acc","amount","addExpense","expense","getExpenses","deleteExpense","totalExpenses","totalBalance","transactionHistory","history","sort","a","b","Date","createdAt","slice","getDropdownOptions","console","generateReport","filterOptions","startDate","endDate","category","filterType","incomeResponse","params","expenseResponse","log","hasOwnProperty","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useGlobalContext","_s2","$RefreshReg$"],"sources":["C:/Users/mohan/OneDrive/Desktop/MoneyFlowManager - Copy/frontend/src/context/globalContext.js"],"sourcesContent":["// globalContext.js\r\n\r\nimport React, { useContext, useState } from \"react\";\r\nimport axios from 'axios';\r\n\r\nconst BASE_URL = \"http://localhost:5000/api/v1/\";\r\n\r\nconst GlobalContext = React.createContext();\r\n\r\nexport const GlobalProvider = ({ children }) => {\r\n  const [incomes, setIncomes] = useState([]);\r\n  const [expenses, setExpenses] = useState([]);\r\n  const [incomeData, setIncomeData] = useState(null);\r\n  const [expenseData, setExpenseData] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  const addIncome = async (income) => {\r\n    try {\r\n      await axios.post(`${BASE_URL}add-income`, income);\r\n      getIncomes();\r\n    } catch (err) {\r\n      setError(err.response.data.message);\r\n    }\r\n  };\r\n\r\n  const getIncomes = async () => {\r\n    const response = await axios.get(`${BASE_URL}get-incomes`);\r\n    setIncomes(response.data);\r\n  };\r\n\r\n  const deleteIncome = async (id) => {\r\n    await axios.delete(`${BASE_URL}delete-income/${id}`);\r\n    getIncomes();\r\n  };\r\n\r\n  const totalIncome = () => {\r\n    return incomes.reduce((acc, income) => acc + income.amount, 0);\r\n  };\r\n\r\n  const addExpense = async (expense) => {\r\n    try {\r\n      await axios.post(`${BASE_URL}add-expense`, expense);\r\n      getExpenses();\r\n    } catch (err) {\r\n      setError(err.response.data.message);\r\n    }\r\n  };\r\n\r\n  const getExpenses = async () => {\r\n    const response = await axios.get(`${BASE_URL}get-expenses`);\r\n    setExpenses(response.data);\r\n  };\r\n\r\n  const deleteExpense = async (id) => {\r\n    await axios.delete(`${BASE_URL}delete-expense/${id}`);\r\n    getExpenses();\r\n  };\r\n\r\n  const totalExpenses = () => {\r\n    return expenses.reduce((acc, expense) => acc + expense.amount, 0);\r\n  };\r\n\r\n  const totalBalance = () => {\r\n    return totalIncome() - totalExpenses();\r\n  };\r\n\r\n  const transactionHistory = () => {\r\n    const history = [...incomes, ...expenses];\r\n    history.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\r\n    return history.slice(0, 3);\r\n  };\r\n\r\n  const getDropdownOptions = async () => {\r\n    try {\r\n      const response = await axios.get(`${BASE_URL}dropdown-options`);\r\n      // Set options in your state or use them directly as needed\r\n    } catch (error) {\r\n      console.error(error);\r\n      setError('Error fetching dropdown options');\r\n    }\r\n  };\r\n\r\n  const generateReport = async (filterOptions) => {\r\n    try {\r\n      const { startDate, endDate, category, filterType } = filterOptions;\r\n\r\n      // Fetch income data\r\n      const incomeResponse = await axios.get(`${BASE_URL}generate-report`, {\r\n        params: { startDate, endDate, category, filterType: 'income' },\r\n      });\r\n\r\n      // Fetch expense data\r\n      const expenseResponse = await axios.get(`${BASE_URL}generate-report`, {\r\n        params: { startDate, endDate, category, filterType: 'expense' },\r\n      });\r\n\r\n      // Log responses for debugging\r\n      console.log('Income Response:', incomeResponse.data);\r\n      console.log('Expense Response:', expenseResponse.data);\r\n\r\n      // Check the structure of the responses\r\n      if (incomeResponse.data.hasOwnProperty('incomeData') && expenseResponse.data.hasOwnProperty('expenseData')) {\r\n        console.log('Income Data:', incomeResponse.data.incomeData);\r\n        console.log('Expense Data:', expenseResponse.data.expenseData);\r\n\r\n        // Update state with the received data\r\n        setIncomeData(incomeResponse.data.incomeData);\r\n        setExpenseData(expenseResponse.data.expenseData);\r\n      } else {\r\n        console.error('IncomeData or ExpenseData not present in the response.');\r\n        setError('Error generating report');\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      setError('Error generating report');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <GlobalContext.Provider\r\n      value={{\r\n        addIncome,\r\n        getIncomes,\r\n        incomes,\r\n        deleteIncome,\r\n        expenses,\r\n        totalIncome,\r\n        addExpense,\r\n        getExpenses,\r\n        deleteExpense,\r\n        totalExpenses,\r\n        totalBalance,\r\n        transactionHistory,\r\n        getDropdownOptions,\r\n        generateReport,\r\n        incomeData,\r\n        expenseData,\r\n        error,\r\n        setError\r\n      }}\r\n    >\r\n      {children}\r\n    </GlobalContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useGlobalContext = () => {\r\n  return useContext(GlobalContext);\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}