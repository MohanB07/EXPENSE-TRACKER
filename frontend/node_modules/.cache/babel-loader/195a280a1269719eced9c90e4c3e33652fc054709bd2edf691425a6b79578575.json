{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mohan\\\\OneDrive\\\\Desktop\\\\MoneyFlowManager - Copy\\\\frontend\\\\src\\\\context\\\\globalContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// globalContext.js\n\nimport React, { useContext, useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BASE_URL = \"http://localhost:5000/api/v1/\";\nconst GlobalContext = /*#__PURE__*/React.createContext();\nexport const GlobalProvider = ({\n  children\n}) => {\n  _s();\n  const [incomes, setIncomes] = useState([]);\n  const [expenses, setExpenses] = useState([]);\n  const [incomeData, setIncomeData] = useState(null);\n  const [expenseData, setExpenseData] = useState(null);\n  const [error, setError] = useState(null);\n  const addIncome = async income => {\n    try {\n      await axios.post(`${BASE_URL}add-income`, income);\n      getIncomes();\n    } catch (err) {\n      setError(err.response.data.message);\n    }\n  };\n  const getIncomes = async () => {\n    const response = await axios.get(`${BASE_URL}get-incomes`);\n    setIncomes(response.data);\n  };\n  const deleteIncome = async id => {\n    await axios.delete(`${BASE_URL}delete-income/${id}`);\n    getIncomes();\n  };\n  const totalIncome = () => {\n    return incomes.reduce((acc, income) => acc + income.amount, 0);\n  };\n  const addExpense = async expense => {\n    try {\n      await axios.post(`${BASE_URL}add-expense`, expense);\n      getExpenses();\n    } catch (err) {\n      setError(err.response.data.message);\n    }\n  };\n  const getExpenses = async () => {\n    const response = await axios.get(`${BASE_URL}get-expenses`);\n    setExpenses(response.data);\n  };\n  const deleteExpense = async id => {\n    await axios.delete(`${BASE_URL}delete-expense/${id}`);\n    getExpenses();\n  };\n  const totalExpenses = () => {\n    return expenses.reduce((acc, expense) => acc + expense.amount, 0);\n  };\n  const totalBalance = () => {\n    return totalIncome() - totalExpenses();\n  };\n  const transactionHistory = () => {\n    const history = [...incomes, ...expenses];\n    history.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n    return history.slice(0, 3);\n  };\n  const getDropdownOptions = async () => {\n    try {\n      const response = await axios.get(`${BASE_URL}dropdown-options`);\n      // Set options in your state or use them directly as needed\n    } catch (error) {\n      console.error(error);\n      setError('Error fetching dropdown options');\n    }\n  };\n\n  // globalContext.js\n\n  // ... (existing code)\n\n  const generateReport = async filterOptions => {\n    try {\n      const response = await axios.get(`${BASE_URL}generate-report`, {\n        params: filterOptions\n      });\n      console.log('Generate Report Response:', response);\n      if (response.data && (response.data.incomeData || response.data.expenseData)) {\n        console.log('Income Data:', response.data.incomeData);\n        console.log('Expense Data:', response.data.expenseData);\n        setIncomeData(response.data.incomeData || []);\n        setExpenseData(response.data.expenseData || []);\n        setError(null);\n      } else {\n        console.error('IncomeData or ExpenseData not present in the response:', response.data);\n        setError('Error generating report');\n      }\n    } catch (error) {\n      console.error(error);\n      setError(`Error generating report: ${error.message}`);\n    }\n  };\n\n  // ... (existing code)\n\n  useEffect(() => {\n    // Fetch dropdown options when the component mounts\n    getDropdownOptions();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(GlobalContext.Provider, {\n    value: {\n      addIncome,\n      getIncomes,\n      incomes,\n      deleteIncome,\n      expenses,\n      totalIncome,\n      addExpense,\n      getExpenses,\n      deleteExpense,\n      totalExpenses,\n      totalBalance,\n      transactionHistory,\n      getDropdownOptions,\n      generateReport,\n      incomeData,\n      expenseData,\n      error,\n      setError\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n};\n_s(GlobalProvider, \"F0egAGDeN6pqKKwTqRbJdX6sU5c=\");\n_c = GlobalProvider;\nexport const useGlobalContext = () => {\n  _s2();\n  return useContext(GlobalContext);\n};\n_s2(useGlobalContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"GlobalProvider\");","map":{"version":3,"names":["React","useContext","useState","useEffect","axios","jsxDEV","_jsxDEV","BASE_URL","GlobalContext","createContext","GlobalProvider","children","_s","incomes","setIncomes","expenses","setExpenses","incomeData","setIncomeData","expenseData","setExpenseData","error","setError","addIncome","income","post","getIncomes","err","response","data","message","get","deleteIncome","id","delete","totalIncome","reduce","acc","amount","addExpense","expense","getExpenses","deleteExpense","totalExpenses","totalBalance","transactionHistory","history","sort","a","b","Date","createdAt","slice","getDropdownOptions","console","generateReport","filterOptions","params","log","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useGlobalContext","_s2","$RefreshReg$"],"sources":["C:/Users/mohan/OneDrive/Desktop/MoneyFlowManager - Copy/frontend/src/context/globalContext.js"],"sourcesContent":["// globalContext.js\r\n\r\nimport React, { useContext, useState, useEffect } from \"react\";\r\nimport axios from 'axios';\r\n\r\nconst BASE_URL = \"http://localhost:5000/api/v1/\";\r\n\r\nconst GlobalContext = React.createContext();\r\n\r\nexport const GlobalProvider = ({ children }) => {\r\n  const [incomes, setIncomes] = useState([]);\r\n  const [expenses, setExpenses] = useState([]);\r\n  const [incomeData, setIncomeData] = useState(null);\r\n  const [expenseData, setExpenseData] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  const addIncome = async (income) => {\r\n    try {\r\n      await axios.post(`${BASE_URL}add-income`, income);\r\n      getIncomes();\r\n    } catch (err) {\r\n      setError(err.response.data.message);\r\n    }\r\n  };\r\n\r\n  const getIncomes = async () => {\r\n    const response = await axios.get(`${BASE_URL}get-incomes`);\r\n    setIncomes(response.data);\r\n  };\r\n\r\n  const deleteIncome = async (id) => {\r\n    await axios.delete(`${BASE_URL}delete-income/${id}`);\r\n    getIncomes();\r\n  };\r\n\r\n  const totalIncome = () => {\r\n    return incomes.reduce((acc, income) => acc + income.amount, 0);\r\n  };\r\n\r\n  const addExpense = async (expense) => {\r\n    try {\r\n      await axios.post(`${BASE_URL}add-expense`, expense);\r\n      getExpenses();\r\n    } catch (err) {\r\n      setError(err.response.data.message);\r\n    }\r\n  };\r\n\r\n  const getExpenses = async () => {\r\n    const response = await axios.get(`${BASE_URL}get-expenses`);\r\n    setExpenses(response.data);\r\n  };\r\n\r\n  const deleteExpense = async (id) => {\r\n    await axios.delete(`${BASE_URL}delete-expense/${id}`);\r\n    getExpenses();\r\n  };\r\n\r\n  const totalExpenses = () => {\r\n    return expenses.reduce((acc, expense) => acc + expense.amount, 0);\r\n  };\r\n\r\n  const totalBalance = () => {\r\n    return totalIncome() - totalExpenses();\r\n  };\r\n\r\n  const transactionHistory = () => {\r\n    const history = [...incomes, ...expenses];\r\n    history.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\r\n    return history.slice(0, 3);\r\n  };\r\n\r\n  const getDropdownOptions = async () => {\r\n    try {\r\n      const response = await axios.get(`${BASE_URL}dropdown-options`);\r\n      // Set options in your state or use them directly as needed\r\n    } catch (error) {\r\n      console.error(error);\r\n      setError('Error fetching dropdown options');\r\n    }\r\n  };\r\n\r\n // globalContext.js\r\n\r\n// ... (existing code)\r\n\r\nconst generateReport = async (filterOptions) => {\r\n  try {\r\n    const response = await axios.get(`${BASE_URL}generate-report`, { params: filterOptions });\r\n\r\n    console.log('Generate Report Response:', response);\r\n\r\n    if (response.data && (response.data.incomeData || response.data.expenseData)) {\r\n      console.log('Income Data:', response.data.incomeData);\r\n      console.log('Expense Data:', response.data.expenseData);\r\n\r\n      setIncomeData(response.data.incomeData || []);\r\n      setExpenseData(response.data.expenseData || []);\r\n      setError(null);\r\n    } else {\r\n      console.error('IncomeData or ExpenseData not present in the response:', response.data);\r\n      setError('Error generating report');\r\n    }\r\n  } catch (error) {\r\n    console.error(error);\r\n    setError(`Error generating report: ${error.message}`);\r\n  }\r\n};\r\n\r\n// ... (existing code)\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    // Fetch dropdown options when the component mounts\r\n    getDropdownOptions();\r\n  }, []);\r\n\r\n  return (\r\n    <GlobalContext.Provider\r\n      value={{\r\n        addIncome,\r\n        getIncomes,\r\n        incomes,\r\n        deleteIncome,\r\n        expenses,\r\n        totalIncome,\r\n        addExpense,\r\n        getExpenses,\r\n        deleteExpense,\r\n        totalExpenses,\r\n        totalBalance,\r\n        transactionHistory,\r\n        getDropdownOptions,\r\n        generateReport,\r\n        incomeData,\r\n        expenseData,\r\n        error,\r\n        setError\r\n      }}\r\n    >\r\n      {children}\r\n    </GlobalContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useGlobalContext = () => {\r\n  return useContext(GlobalContext);\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}